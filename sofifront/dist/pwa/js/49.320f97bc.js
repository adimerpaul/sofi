"use strict";(self["webpackChunksofi"]=self["webpackChunksofi"]||[]).push([[49],{15049:(e,o,l)=>{l.r(o),l.d(o,{default:()=>ae});var a=l(83673),t=l(62323),i=l(98880);const n={class:"row"},r={class:"col-xs-12 col-md-6 q-pa-xs"},s={class:"col-xs-2 col-md-2 q-pa-xs"},c={class:"col-xs-2 col-md-2 q-pa-xs"},d={class:"col-xs-2 col-md-2 q-pa-xs"},u={class:"row"},p=(0,a._)("br",null,null,-1),m={class:"row"},g={class:"col-xs-12 col-md-12"},h={style:{height:"500px",width:"100%"}},y=(0,a._)("br",null,null,-1),f={class:"col-12 col-md-12"},b={class:"row"},w={class:"col-12 col-md-2"},_={class:"col-12 col-md-2"},C=(0,a._)("div",{class:"col-12 col-md-2"},null,-1),O=(0,a._)("div",{class:"col-12 col-md-2"},null,-1),v={class:"col-12 col-md-2"},D={class:"col-12 col-md-2"},k={class:"col-xs-12 col-md-12"},V=["onClick"],W={key:"op"},A={class:"text-h6"},z=(0,a._)("tr",null,[(0,a._)("th",null,"PEDIDO"),(0,a._)("th",null,"CODIGO"),(0,a._)("th",null,"CANTIDAD"),(0,a._)("th",null,"PRODUCTO")],-1),F=(0,a._)("div",{class:"text-h6"},"Asignar Camion",-1);function P(e,o,l,P,N,S){const T=(0,a.up)("q-input"),x=(0,a.up)("q-btn"),E=(0,a.up)("LTileLayer"),Z=(0,a.up)("LGeoJson"),q=(0,a.up)("l-tooltip"),I=(0,a.up)("q-badge"),R=(0,a.up)("l-icon"),L=(0,a.up)("l-marker"),j=(0,a.up)("l-map"),Q=(0,a.up)("q-select"),U=(0,a.up)("q-icon"),Y=(0,a.up)("q-table"),G=(0,a.up)("q-card-section"),M=(0,a.up)("q-card"),J=(0,a.up)("q-card-actions"),B=(0,a.up)("q-dialog"),$=(0,a.up)("q-space"),H=(0,a.up)("q-item-section"),K=(0,a.up)("q-item"),X=(0,a.up)("q-form"),ee=(0,a.up)("q-page"),oe=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(ee,{class:"bg-grey-3 q-pa-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{flat:"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,[(0,a.Wm)(T,{modelValue:N.fecha,"onUpdate:modelValue":[o[0]||(o[0]=e=>N.fecha=e),S.buscar],label:"Fecha",type:"date",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",s,[(0,a.Wm)(x,{color:"purple",label:"5",onClick:o[1]||(o[1]=e=>S.loadGeoJson(5)),loading:N.loading},null,8,["loading"])]),(0,a._)("div",c,[(0,a.Wm)(x,{color:"green",label:"4",onClick:o[2]||(o[2]=e=>S.loadGeoJson(4)),loading:N.loading},null,8,["loading"])]),(0,a._)("div",d,[(0,a.Wm)(x,{color:"orange",label:"3",onClick:o[3]||(o[3]=e=>S.loadGeoJson(3)),loading:N.loading},null,8,["loading"])])]),(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.vehiculos,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,t.C_)("q-pa-xs col-md-2 col-xs-4 bg-"+e.color),key:e,style:{"font-size":"12px"}},[(0,a._)("b",null,(0,t.zw)(""==e.placa?"SIN ASIGNAR":e.placa)+" : "+(0,t.zw)(S.calculo(e.placa)),1)],2)))),128)),p]),(0,a._)("div",m,[(0,a._)("div",g,[(0,a._)("div",h,[(0,a.Wm)(j,{modelValue:N.zoom,"onUpdate:modelValue":o[4]||(o[4]=e=>N.zoom=e),zoom:N.zoom,center:N.center},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,a.Wm)(Z,{geojson:N.geojsonData,options:N.geoJsonOptions},null,8,["geojson","options"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.clientes,((e,o)=>((0,a.wg)(),(0,a.j4)(L,{key:o,"lat-lng":[parseFloat(e.Latitud),parseFloat(e.longitud)],onClick:o=>S.toggleSeleccion(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{content:e.Nombres+" Total:"+e.importe+" Bs",permanent:!1,direction:"top"},null,8,["content"]),(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{style:{padding:"2px"},color:e.selected?"red":e.color},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(e.num),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1032,["lat-lng","onClick"])))),128))])),_:1},8,["modelValue","zoom","center"])]),y,(0,a._)("div",f,[(0,a._)("div",b,[(0,a._)("div",w,[(0,a.Wm)(x,{color:"green",icon:"local_shipping",onClick:S.cambiar,"no-caps":"",label:"Asignar",loading:N.loading},null,8,["onClick","loading"])]),(0,a._)("div",_,[(0,a.Wm)(x,{color:"info",icon:"print",onClick:S.generarPdf,label:"Imprimir","no-caps":"",loading:N.loading},null,8,["onClick","loading"])]),C,O,(0,a._)("div",v,[(0,a.Wm)(Q,{square:"",outlined:"",modelValue:N.usuario,"onUpdate:modelValue":[o[5]||(o[5]=e=>N.usuario=e),S.filtrarClientes],options:N.vendedores,label:"Vendedor",dense:""},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,a._)("div",D,[(0,a.Wm)(Q,{square:"",outlined:"",modelValue:N.tipoProducto,"onUpdate:modelValue":[o[6]||(o[6]=e=>N.tipoProducto=e),S.buscar],options:["NORMAL","POLLO","CERDO"],label:"Producto",dense:""},null,8,["modelValue","onUpdate:modelValue"])])])])]),(0,a._)("div",k,[(0,a.Wm)(Y,{dense:"",rows:N.clientes,columns:N.column,"row-key":"name","rows-per-page-options":["0"],filter:N.filtro,style:{"font-size":"10px",height:"400px"},"virtual-scroll":"",flat:"",bordered:""},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(T,{outlined:"",dense:"",debounce:"300",modelValue:N.filtro,"onUpdate:modelValue":o[7]||(o[7]=e=>N.filtro=e),placeholder:"buscar"},{append:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,a.w5)((e=>[(0,a._)("tr",{class:(0,t.C_)(e.row.selected?"bg-red":"bg-"+e.row.color),style:{"font-size":"10px"},onClick:o=>S.toggleSeleccion(e.row)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.column,(o=>((0,a.wg)(),(0,a.iD)("td",{key:o.name,style:{"font-size":"10px"}},(0,t.zw)(e.row[o.field]),1)))),128)),(0,a._)("td",W,[(0,a.Wm)(x,{color:"info",icon:"visibility",dense:"",flat:"",onClick:o=>S.verDetalle(e.row)},null,8,["onClick"])])],10,V)])),_:1},8,["rows","columns","filter"])])])])),_:1})])),_:1}),(0,a.Wm)(B,{modelValue:N.dialogDetalle,"onUpdate:modelValue":o[8]||(o[8]=e=>N.dialogDetalle=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a._)("div",A,(0,t.zw)(N.detalle.Nombres),1)])),_:1}),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a._)("table",null,[z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.detalle.contenido,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,t.zw)(e.NroPed),1),(0,a._)("td",null,(0,t.zw)(e.cod_prod),1),(0,a._)("td",null,(0,t.zw)(e.Cant),1),(0,a._)("td",null,(0,t.zw)(e.Producto),1)])))),128))])])),_:1}),(0,a.Wm)(J,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(x,{flat:"",label:"OK",color:"primary"},null,512),[[oe]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(B,{modelValue:N.dialgoCamion,"onUpdate:modelValue":o[13]||(o[13]=e=>N.dialgoCamion=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{style:{width:"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"row items-center"},{default:(0,a.w5)((()=>[F,(0,a.Wm)($),(0,a.Wm)(x,{flat:"",icon:"close",onClick:o[9]||(o[9]=e=>N.dialgoCamion=!1)})])),_:1}),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(X,{onSubmit:(0,i.iM)(S.asignarCamion,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{modelValue:N.auto,"onUpdate:modelValue":o[10]||(o[10]=e=>N.auto=e),options:N.vehiculos,"option-label":"placa",label:"Camion Asignar",dense:"",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","options","rules"]),(0,a.Wm)(Q,{modelValue:N.color,"onUpdate:modelValue":o[11]||(o[11]=e=>N.color=e),options:N.colores,"option-label":"zona",label:"Color Asignar",dense:"",outlined:"",rules:[e=>!!e||"Campo requerido"]},{option:(0,a.w5)((e=>[(0,a.Wm)(K,(0,t.vs)((0,a.F4)(e.itemProps)),{default:(0,a.w5)((()=>[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,t.C_)("text-center bg-"+e.opt.color)},(0,t.zw)(e.opt.zona),3)])),_:2},1024)])),_:2},1040)])),"selected-item":(0,a.w5)((e=>[(0,a._)("div",{class:(0,t.C_)("text-center bg-"+e.opt.color)},(0,t.zw)(e.opt.zona),3)])),_:1},8,["modelValue","options","rules"]),(0,a.Wm)(J,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{flat:"",label:"Cancelar",color:"primary",onClick:o[12]||(o[12]=e=>N.dialgoCamion=!1),loading:N.loading},null,8,["loading"]),(0,a.Wm)(x,{label:"Asignar",color:"primary",type:"submit",loading:N.loading},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}l(10071),l(19544);var N=l(11488),S=l.n(N),T=l(8892);const x={name:"mapaCliente",components:{LMap:T.iA,LIcon:T.QC,LTileLayer:T.Hw,LMarker:T.$R,LTooltip:T.Gs,LGeoJson:T.jK},data(){return{color:"",colores:[{id:1,zona:"A2 NORTE",color:"deep-orange-4",colorStyle:"background-color: #FF7043"},{id:2,zona:"A4 BOLIVAR",color:"pink-4",colorStyle:"background-color: #F06292"},{id:3,zona:"C1 SE RECOGE",color:"blue-grey-4",colorStyle:"background-color: #37474F"},{id:4,zona:"A3 CENTRO",color:"yellow",colorStyle:"background-color: #F5EE17"},{id:5,zona:"A5 APOYO",color:"green-4",colorStyle:"background-color: #1B5E20"},{id:6,zona:"PROVINCIA",color:"deep-purple-4",colorStyle:"background-color: #9575CD"},{id:7,zona:"A1 SUD",color:"blue-4",colorStyle:"background-color: #0D47A1"},{id:8,zona:"SIN ZONA",color:"grey-6",colorStyle:"background-color: #757575"}],tipoProducto:"NORMAL",styleGeoJSON:e=>({color:e.properties.color||"red",weight:2,opacity:.2,fillOpacity:.3}),center:[-17.969721,-67.114493],filtro:"",listado:[],vehiculos:[],auto:{},zoom:13,fecha:S()().format("YYYY-MM-DD"),minimo:S()().subtract(1,"days").format("YYYY-MM-DD"),loading:!1,clientes:[],seleccionados:[],column:[{label:"OP",name:"op",field:"op",sortable:!0},{label:"N",name:"id",field:"num",sortable:!0,align:"center"},{label:"CINIT",name:"id",field:"Id",sortable:!0,align:"center"},{label:"CLIENTE",name:"nombre",field:"Nombres",sortable:!0,align:"left"},{label:"HORARIO",name:"horario",field:"horario",sortable:!0,align:"left"},{label:"VENDEDOR",name:"vendedor",field:"vendedor",sortable:!0},{label:"ZONA",name:"zona",field:"territorio",sortable:!0},{label:"PLACA",name:"placa",field:"placa",sortable:!0}],dialgoCamion:!1,geojsonData:null,geojsonData5:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"NORTE",color:"#ff0000"},geometry:{type:"Polygon",coordinates:[[[-67.099879,-17.95474],[-67.100311,-17.944827],[-67.085978,-17.93315],[-67.071816,-17.93217],[-67.075506,-17.919267],[-67.113353,-17.911143],[-67.118482,-17.893828],[-67.134844,-17.895579],[-67.130279,-17.92691],[-67.121165,-17.94142],[-67.120854,-17.948468],[-67.122543,-17.949004],[-67.12654,-17.94755],[-67.127607,-17.956572],[-67.125864,-17.957169],[-67.122549,-17.957674],[-67.117989,-17.956378],[-67.115403,-17.956363],[-67.114395,-17.956552],[-67.109594,-17.957144],[-67.107067,-17.957802],[-67.10601,-17.95376],[-67.104272,-17.954179],[-67.103274,-17.954444],[-67.101654,-17.954852],[-67.100496,-17.955036],[-67.099879,-17.95474]]]}},{type:"Feature",properties:{name:"SUD",color:"green"},geometry:{type:"Polygon",coordinates:[[[-67.092556,-17.963821],[-67.093142,-17.971621],[-67.098464,-17.970519],[-67.100556,-17.977601],[-67.108699,-17.975938],[-67.108957,-17.976918],[-67.111124,-17.976509],[-67.110909,-17.975468],[-67.115952,-17.974713],[-67.116317,-17.975489],[-67.116617,-17.976754],[-67.123312,-17.978958],[-67.127775,-17.976999],[-67.133354,-17.972346],[-67.138847,-17.965569],[-67.144598,-17.96663],[-67.142624,-17.973529],[-67.14477,-17.976958],[-67.145242,-17.981693],[-67.141036,-17.983979],[-67.137045,-17.985898],[-67.138847,-17.99349],[-67.136358,-18.006061],[-67.10606,-18.001],[-67.106575,-17.98998],[-67.096447,-17.983285],[-67.091297,-17.993082],[-67.070526,-18.000428],[-67.049898,-17.981904],[-67.047409,-17.97223],[-67.07303,-17.964433],[-67.074703,-17.973006],[-67.075905,-17.974639],[-67.081012,-17.966515],[-67.092556,-17.963821]]]}},{type:"Feature",properties:{name:"BOLIVAR",color:"blue"},geometry:{type:"Polygon",coordinates:[[[-67.098232,-17.969964],[-67.09815,-17.969718],[-67.097392,-17.967165],[-67.105855,-17.965936],[-67.106005,-17.965896],[-67.106906,-17.96859],[-67.108699,-17.975938],[-67.100598,-17.977326],[-67.098464,-17.970519],[-67.093142,-17.971621],[-67.095195,-17.970559],[-67.098171,-17.970048],[-67.098232,-17.969964]]]}},{type:"Feature",properties:{name:"CENTRO",color:"orange"},geometry:{type:"Polygon",coordinates:[[[-67.107257,-17.964448],[-67.112021,-17.964469],[-67.112665,-17.965122],[-67.112922,-17.965897],[-67.118587,-17.963938],[-67.120196,-17.964836],[-67.120432,-17.967877],[-67.122557,-17.967938],[-67.122771,-17.971939],[-67.119316,-17.972449],[-67.11687,-17.974286],[-67.111763,-17.975041],[-67.110948,-17.975164],[-67.109875,-17.971408],[-67.10891,-17.971551],[-67.107107,-17.964489],[-67.107257,-17.964448]]]}},{type:"Feature",properties:{name:"APOYO",color:"purple"},geometry:{type:"Polygon",coordinates:[[[-67.107067,-17.957679],[-67.10971,-17.957368],[-67.112739,-17.956852],[-67.113297,-17.964405],[-67.107031,-17.963751],[-67.106859,-17.965548],[-67.097392,-17.967042],[-67.098232,-17.969964],[-67.093142,-17.971621],[-67.092556,-17.963821],[-67.081012,-17.966392],[-67.089865,-17.947666],[-67.083771,-17.944808],[-67.089092,-17.936153],[-67.100311,-17.944704],[-67.099948,-17.954411],[-67.09995,-17.955219],[-67.105829,-17.953913],[-67.107067,-17.957679]]]}}]},geojsonData4:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"ZONA SUD",color:"#00FF00"},geometry:{type:"Polygon",coordinates:[[[-67.092526,-17.9638446],[-67.0934008,-17.9716146],[-67.097349,-17.9707982],[-67.0981215,-17.9732474],[-67.0988939,-17.975758],[-67.100911,-17.9752884],[-67.1011041,-17.9758191],[-67.1044301,-17.9750844],[-67.1080349,-17.974023],[-67.1088074,-17.9759824],[-67.1107386,-17.9756967],[-67.116146,-17.9750027],[-67.1212528,-17.974615],[-67.122433,-17.9782582],[-67.1253298,-17.9785133],[-67.1385478,-17.9713697],[-67.1423243,-17.9744721],[-67.1371745,-18.0067992],[-67.118635,-18.0010853],[-67.1040438,-18.0005955],[-67.0892809,-17.9956976],[-67.0839594,-17.9986363],[-67.0683383,-17.9986363],[-67.0635318,-17.9942282],[-67.0587597,-17.9863438],[-67.0507265,-17.980418],[-67.0472504,-17.9680901],[-67.0516706,-17.9664572],[-67.0731712,-17.9671104],[-67.0733,-17.9725805],[-67.0749307,-17.9725805],[-67.0755316,-17.9746216],[-67.0781923,-17.9741317],[-67.0776773,-17.97156],[-67.0809818,-17.9665797],[-67.092526,-17.9638446]]]}},{type:"Feature",properties:{name:"ZONA CENTRO",color:"#FFA500"},geometry:{type:"Polygon",coordinates:[[[-67.0999669,-17.9547953],[-67.1008037,-17.9550607],[-67.1046017,-17.9540605],[-67.1053742,-17.9538156],[-67.1058625,-17.9536869],[-67.1061629,-17.9549933],[-67.1102666,-17.9544279],[-67.1147726,-17.9542238],[-67.1192787,-17.9545095],[-67.120459,-17.9599086],[-67.1207593,-17.9608986],[-67.1202229,-17.9616946],[-67.1199654,-17.9627969],[-67.1198367,-17.9632051],[-67.1191071,-17.9632052],[-67.12018,-17.9655321],[-67.1214245,-17.9673283],[-67.123227,-17.9679406],[-67.1209525,-17.9742271],[-67.1137427,-17.9750844],[-67.1107386,-17.9756967],[-67.1097086,-17.9714105],[-67.1086358,-17.9718595],[-67.1055459,-17.9608374],[-67.1001814,-17.9618172],[-67.0995806,-17.9584288],[-67.0999669,-17.9547953]]]}},{type:"Feature",properties:{name:"ZONA BOLIVAR",color:"#0000FF"},geometry:{type:"Polygon",coordinates:[[[-67.0999669,-17.9547953],[-67.0998618,-17.9552061],[-67.0995346,-17.9584747],[-67.0996204,-17.9594902],[-67.1001569,-17.9619396],[-67.1003607,-17.9618886],[-67.1055106,-17.9609088],[-67.1072379,-17.9671038],[-67.107549,-17.9682876],[-67.1088794,-17.9726351],[-67.1085146,-17.9729413],[-67.1089009,-17.9738291],[-67.104148,-17.9749517],[-67.1031717,-17.9751967],[-67.1022651,-17.9754926],[-67.1011041,-17.9758191],[-67.100911,-17.9752884],[-67.0988939,-17.975758],[-67.0981215,-17.9732474],[-67.0974425,-17.971135],[-67.0973245,-17.9706145],[-67.0934621,-17.9713697],[-67.0926252,-17.9643686],[-67.0928398,-17.9617151],[-67.0933333,-17.9594902],[-67.09402,-17.9574694],[-67.0949641,-17.9555914],[-67.096316,-17.9531827],[-67.0999669,-17.9547953]]]}},{type:"Feature",properties:{name:"ZONA NORTE",color:"#800080"},geometry:{type:"Polygon",coordinates:[[[-67.1046017,-17.9540605],[-67.1008037,-17.9550607],[-67.096316,-17.9531827],[-67.0791921,-17.945785],[-67.0861015,-17.9354962],[-67.0785055,-17.9299432],[-67.0850286,-17.9190818],[-67.0964012,-17.9260642],[-67.1100053,-17.9184285],[-67.1126669,-17.8967851],[-67.1372145,-17.8989087],[-67.1233099,-17.9284732],[-67.1200483,-17.9372925],[-67.1200483,-17.951174],[-67.1195525,-17.9543809],[-67.1128147,-17.9540135],[-67.1089524,-17.9544626],[-67.1061629,-17.9549933],[-67.1058625,-17.9536869],[-67.1046017,-17.9540605]]]}}]},url:"https://bsofia.tuprogam.com/api/",geojsonData3:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"CENTRO/BOLIVAR",color:"#1f77b4"},geometry:{type:"Polygon",coordinates:[[[-67.1001614,-17.9618895],[-67.0996035,-17.9593584],[-67.0996571,-17.9565364],[-67.0998663,-17.9556791],[-67.1000326,-17.954837],[-67.1006979,-17.9551126],[-67.1041525,-17.954092],[-67.1042813,-17.9565824],[-67.1055258,-17.9604097],[-67.1061481,-17.96241],[-67.1102143,-17.9622059],[-67.1125854,-17.9622876],[-67.1135832,-17.9622876],[-67.1133793,-17.9625427],[-67.1144522,-17.9644206],[-67.1174992,-17.9634],[-67.1208037,-17.9637674],[-67.1189154,-17.9650737],[-67.1193875,-17.9662984],[-67.1220482,-17.9676048],[-67.1232069,-17.972136],[-67.1188725,-17.9749935],[-67.1165551,-17.974422],[-67.1108044,-17.9754833],[-67.109989,-17.9715237],[-67.1087016,-17.9718502],[-67.1089161,-17.972585],[-67.1083582,-17.9729932],[-67.1088303,-17.9737688],[-67.1083153,-17.9740138],[-67.1042813,-17.9749935],[-67.1037234,-17.9733606],[-67.1016205,-17.9739729],[-67.0998824,-17.9683803],[-67.0981015,-17.9624611],[-67.1001614,-17.9618895]]]}},{type:"Feature",properties:{name:"ZONA SUD",color:"#2ca02c"},geometry:{type:"Polygon",coordinates:[[[-67.0998663,-17.9549646],[-67.0991195,-17.9594247],[-67.1000541,-17.9619712],[-67.0979942,-17.9625428],[-67.1015132,-17.9740546],[-67.1036161,-17.9734423],[-67.1042478,-17.9751413],[-67.1062434,-17.9746311],[-67.1082604,-17.9741208],[-67.1089471,-17.9767945],[-67.1101058,-17.976815],[-67.1113569,-17.9766065],[-67.1123868,-17.9795456],[-67.1161634,-17.980362],[-67.1225149,-17.9797089],[-67.1355611,-17.9756269],[-67.1403676,-17.9697486],[-67.139166,-17.9852603],[-67.1373636,-18.0023214],[-67.1346599,-18.0020358],[-67.1331364,-17.9982197],[-67.1232015,-18.0019133],[-67.1027738,-18.0006073],[-67.0897275,-17.9945666],[-67.0698148,-17.9939135],[-67.0689565,-17.9862399],[-67.0500738,-17.9823213],[-67.0505887,-17.9735858],[-67.0735145,-17.9705686],[-67.0733857,-17.9728546],[-67.074759,-17.9726097],[-67.0754457,-17.9746915],[-67.0779777,-17.9742833],[-67.0776344,-17.9712217],[-67.0804239,-17.9679968],[-67.0835996,-17.9613018],[-67.0925689,-17.9613426],[-67.0939422,-17.9570969],[-67.096088,-17.9532236],[-67.0975502,-17.953854],[-67.099152,-17.9545406],[-67.0998663,-17.9549646]]]}},{type:"Feature",properties:{name:"ZONA NORTE",color:"#d62728"},geometry:{type:"Polygon",coordinates:[[[-67.0960451,-17.9532848],[-67.08897,-17.9481364],[-67.0878542,-17.9405424],[-67.0841635,-17.9372761],[-67.0864809,-17.9337647],[-67.0779837,-17.9266601],[-67.0841635,-17.9220869],[-67.08897,-17.9248635],[-67.0926607,-17.9211885],[-67.0946348,-17.9245368],[-67.1063936,-17.9203719],[-67.1125734,-17.9162885],[-67.1151483,-17.8983205],[-67.1188391,-17.8889274],[-67.1273363,-17.8939099],[-67.1308554,-17.8850884],[-67.1357477,-17.8876205],[-67.1327436,-17.8987289],[-67.1348036,-17.9071414],[-67.1342028,-17.9133484],[-67.138666,-17.9203719],[-67.1357477,-17.9262518],[-67.1292246,-17.9296],[-67.1256197,-17.9318865],[-67.1213935,-17.9352188],[-67.1202777,-17.9396284],[-67.1239684,-17.9428947],[-67.1225951,-17.9487738],[-67.1268867,-17.9458343],[-67.1289466,-17.9486922],[-67.1268867,-17.9520399],[-67.1281741,-17.9552243],[-67.1234534,-17.9579188],[-67.1177886,-17.956694],[-67.1163295,-17.9584087],[-67.1135832,-17.9622876],[-67.1098013,-17.9621855],[-67.1061481,-17.96241],[-67.1041525,-17.954092],[-67.1000326,-17.954837],[-67.0960451,-17.9532848]]]}}]},enableTooltip:!0,options:{onEachFeature:this.onEachFeatureFunction},vendedores:[],filtercliente:[],geoJsonOptions:{style:e=>({color:e.properties.color,weight:.5,opacity:.1,fillOpacity:.2})},detalle:[],dialogDetalle:!1,usuario:[]}},mounted(){this.colores.sort(((e,o)=>e.zona.localeCompare(o.zona))),this.geojsonData=this.geojsonData5,this.buscar(),this.getVehiculo()},methods:{filtrarClientes(){"TODOS"==this.usuario?this.clientes=this.filtercliente:this.clientes=this.filtercliente.filter((e=>e.vendedor===this.usuario))},loadGeoJson(e){switch(e){case 5:this.geojsonData=this.geojsonData5;break;case 4:this.geojsonData=this.geojsonData4;break;case 3:this.geojsonData=this.geojsonData3;break}},verDetalle(e){e.fecha=this.fecha,console.log(e),this.$api.post("detallePedMap",e).then((o=>{console.log(o.data),this.detalle=e,this.detalle.contenido=o.data,this.dialogDetalle=!0}))},calculo(e){let o=0;return this.clientes.forEach((l=>{l.placa==e&&o++})),o},onEachFeatureFunction(){return this.enableTooltip?(e,o)=>{o.bindTooltip("<div>"+e.properties.name+"</div>",{permanent:!1,sticky:!0})}:()=>{}},generarPdf(){const e=`${this.url}reportePedido/${this.fecha}`;window.open(e,"_blank")},getVehiculo(){this.$api.post("listVehiculo").then((e=>{e.data.forEach((e=>{e.cantidad=0})),this.vehiculos=e.data,this.auto=this.vehiculos[0]}))},buscar(){this.loading=!0,this.clientes=[],this.vendedores=[];const e=new Set;this.usuario=[],this.$api.post("mapClientes",{fecha:this.fecha,tipo:this.tipoProducto}).then((o=>{console.log(o.data);let l=1;o.data.forEach((o=>{o.num=l,o.selected=!1,o.showTooltip=!1,l++,e.add(o.vendedor)})),this.vendedores=Array.from(e),this.vendedores.push("TODOS"),this.usuario="TODOS",this.clientes=o.data,this.filtercliente=this.clientes,console.log(this.usuario)})).finally((()=>{this.loading=!1}))},toggleSeleccion(e){e.selected=!e.selected,e.selected?this.seleccionados.push(e):this.seleccionados=this.seleccionados.filter((o=>o.Id!==e.Id)),this.$nextTick((()=>{e.showTooltip=!0,e.marker&&e.marker.leafletObject&&e.marker.leafletObject.openTooltip()}))},asignarCamion(){this.loading=!0,this.$api.post("updaVehiPed",{fecha:this.fecha,placa:this.auto.placa,listado:this.seleccionados,color:this.color}).then((e=>{this.seleccionados=[],this.buscar(),this.dialgoCamion=!1})).finally((()=>{this.loading=!1}))},cambiar(){this.dialgoCamion=!0}}};var E=l(74260),Z=l(24379),q=l(10151),I=l(25589),R=l(64689),L=l(2165),j=l(69721),Q=l(63314),U=l(55242),Y=l(24554),G=l(30481),M=l(46778),J=l(99367),B=l(62025),$=l(68689),H=l(83414),K=l(52035),X=l(60677),ee=l(7518),oe=l.n(ee);const le=(0,E.Z)(x,[["render",P]]),ae=le;oe()(x,"components",{QPage:Z.Z,QCard:q.Z,QCardSection:I.Z,QInput:R.Z,QBtn:L.Z,QBadge:j.Z,QSelect:Q.Z,QTable:U.Z,QIcon:Y.Z,QMarkupTable:G.Z,QDialog:M.Z,QCardActions:J.Z,QSpace:B.Z,QForm:$.Z,QItem:H.Z,QItemSection:K.Z}),oe()(x,"directives",{ClosePopup:X.Z})}}]);